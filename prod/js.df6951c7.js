parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"L4MM":[function(require,module,exports) {

},{"./../assets/icons/icon_back-arrow.svg":[["icon_back-arrow.417c8fa2.svg","MHR0"],"MHR0"],"./../assets/icons/icon_volume-off.svg":[["icon_volume-off.612f7253.svg","TzW1"],"TzW1"],"./../assets/icons/icon_volume-on.svg":[["icon_volume-on.89353725.svg","TBhP"],"TBhP"]}],"VzXo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.API_KEYS=void 0;var e={openWeatherMaps:"54352b0dcabe57572744b22fd3043777",googleMaps:"AIzaSyBANFz3dZldaqxIUs0XjSxITT72Wo8BhhE"};exports.API_KEYS=e;
},{}],"kRcM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.locationForm=void 0;var o={toggleFormVisibility:function(){document.querySelector(".js-location-form-container").classList.toggle("location-form--hidden")},resetForm:function(){document.querySelector(".js-location-form-label").innerHTML="Where do you want to listen to?"},toggleResultsError:function(){document.querySelector(".js-location-form-label").innerHTML='No weather data found for your location.&nbsp;<br class="location-form__error-line-break"/>How about trying again?'}};exports.locationForm=o;
},{}],"obSW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.siteHeader=void 0;var e={searchTerm:null,toggleHeaderVisibility:function(){document.querySelector(".header").classList.toggle("header--hidden")},updateHeaderDislay:function(e){var r=document.querySelector(".header__location-display");if(null!=e){var i=t(e.city.name);r.innerText="".concat(i," is ").concat(Math.round(e.list[0].main.temp),"Â°F with ").concat(Math.round(e.list[0].wind.speed),"mph winds.")}else r.innerText="Here is your custom weather tune."}};exports.siteHeader=e;var t=function(e){for(var t=e.toLowerCase().split(" "),r=0;r<t.length;r++)t[r]=t[r].charAt(0).toUpperCase()+t[r].substring(1);return t.join(" ")};
},{}],"vNG8":[function(require,module,exports) {
"use strict";function t(t){return n(t)||a(t)||e()}function e(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function a(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function n(t){if(Array.isArray(t)){for(var e=0,a=new Array(t.length);e<t.length;e++)a[e]=t[e];return a}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.beatSettings=void 0;var i={numBeats:8,beats:[],temps:[],minTemp:null,maxTemp:null,windSpeed:null,activeBeat:null,toggleBeatContainerVisibility:function(){document.querySelector(".beats").classList.toggle("beats--hidden")},setupBeats:function(t){this.createBeats(t),this.setBeatData(t)},createBeats:function(t){for(var e=0;e<this.numBeats;e+=1){var a=Math.round(t.list[e].main.temp);this.temps[e]=a,this.beats[e]=new Beat(e,a),this.beats[e].createDomElement()}window.setTimeout(function(){i.toggleBeatVisibility()},50)},toggleBeatVisibility:function(){for(var t=document.querySelectorAll(".beats__beat"),e=0;e<t.length;e++)t[e].style.animationDelay="".concat(.075*e,"s")},setBeatData:function(e){this.maxTemp=Math.max.apply(Math,t(i.temps)),this.minTemp=Math.min.apply(Math,t(i.temps)),this.windSpeed=e.list[0].wind.speed,this.setBeatPositions(),audioSettings.setupAudio()},setBeatPositions:function(){for(var t=s(),e=t.maxX,a=t.maxY,n=document.querySelectorAll(".beats__beat"),i=0;i<n.length;i+=1){var o=mapNumberToRange(this.temps[i],this.minTemp,this.maxTemp,0,e),r=mapNumberToRange(this.temps[i],this.minTemp,this.maxTemp,a,0);window.innerWidth>=768?n[i].style.top="".concat(r,"%"):n[i].style.left="".concat(o,"%")}},clearBeats:function(){for(var t=document.querySelectorAll(".beats__beat-container"),e=0;e<t.length;e+=1)t[e].remove();this.beats=[]}};exports.beatSettings=i;var s=function(){var t=document.querySelector(".beats__beat").offsetWidth,e=document.querySelector(".beats__beat").offsetHeight;return{maxX:100*(1-t/document.querySelector(".beats").offsetWidth),maxY:100*(1-e/document.querySelector(".beats").offsetHeight)}};
},{}],"H8fZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.backgroundColors=void 0;var o={bgColors:[["#587BAF","#C7C8E6"],["#81688D","#A692AF"],["#5182EF","#91CFFF"],["#626979","#9CA4B9"],["#373A4E","#5C618A"],["#14161C","#464657"]],orbColors:[["#587BAF","#FFE8DB"],["#81688D","#F0B5A8"],["#5182EF","#C6E7FF"],["#626979","#626979"],["#373A4E","#4C4F6A"],["#14161C","#5E5E74"]],shadowColors:["215, 33%, 10%","283, 14%, 10%","220, 84%, 10%","210, 10%, 10%","233, 18%, 10%","227, 18%, 10%"],setBackgroundColor:function(o){var t=this.getColorCondition(o),e=document.querySelector(".site"),r=this.bgColors[t].toString(),n=135;t<3&&(n=180),e.style.background="linear-gradient(".concat(n,"deg, ").concat(r,")");for(var s=document.querySelectorAll(".beats__beat"),a=this.orbColors[t].toString(),i=0;i<s.length;i++){var c=o.list[i].wind.deg;s[i].style.background="linear-gradient(".concat(c,"deg, ").concat(a,")"),s[i].style.boxShadow="0px 20px 32px hsla(".concat(this.shadowColors[t],", 0.15)")}},getColorCondition:function(o){var t=Math.round((new Date).getTime()/1e3)+o.city.timezone,e=o.city.sunrise+o.city.timezone,r=o.city.sunset+o.city.timezone,n=Math.abs(t-e),s=Math.abs(t-r),a=0;return n<=3600?a:s<=3600?a+=1:(a+=t>e&&t<r?2:4,o.list[0].clouds.all>60&&(a+=1),a)}};exports.backgroundColors=o;
},{}],"UJ7I":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.displayState=void 0;var e=a(require("./locationForm.js")),t=a(require("./siteHeader.js")),r=a(require("./beatSettings.js")),i=a(require("./backgroundColors.js"));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function a(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var n=i?Object.getOwnPropertyDescriptor(e,a):null;n&&(n.get||n.set)?Object.defineProperty(r,a,n):r[a]=e[a]}return r.default=e,t&&t.set(e,r),r}var n={active:!1,toggleState:function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e.toggleFormVisibility(),t.toggleHeaderVisibility(),r.toggleBeatContainerVisibility(),this.active?(r.clearBeats(),audioSettings.playing&&audioSettings.togglePlaying(),audioSettings.clearNotes(),this.active=!1):(e.resetForm(),document.querySelector(".js-location-form").reset(),r.setupBeats(o),i.setBackgroundColor(o),t.updateHeaderDislay(o),this.active=!0)}};exports.displayState=n;
},{"./locationForm.js":"kRcM","./siteHeader.js":"obSW","./beatSettings.js":"vNG8","./backgroundColors.js":"H8fZ"}],"FJr7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getWeatherData=void 0;var t=o(require("./apiKeys.js")),e=require("./locationForm.js"),r=o(require("./displayState"));function n(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return n=function(){return t},t}function o(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=n();if(e&&e.has(t))return e.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){var c=o?Object.getOwnPropertyDescriptor(t,a):null;c&&(c.get||c.set)?Object.defineProperty(r,a,c):r[a]=t[a]}return r.default=t,e&&e.set(t,r),r}var a=function(n,o){var a="lat=".concat(n,"&lon=").concat(o),c="&appid=".concat(t.openWeatherMaps),i="".concat("https://api.openweathermap.org/data/2.5/forecast?").concat(a).concat("&units=imperial").concat(c);fetch(i).then(function(t){return t.json()}).then(function(t){t.list.length>0?r.toggleState(t):e.locationForm.toggleResultsError()})};exports.getWeatherData=a;
},{"./apiKeys.js":"VzXo","./locationForm.js":"kRcM","./displayState":"UJ7I"}],"Pvvy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getCoordinates=void 0;var e=n(require("./apiKeys.js")),t=require("./locationForm.js"),r=require("./weather.js");function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function n(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var s=n?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,t&&t.set(e,r),r}var a=function(o){var n="&key=".concat(e.googleMaps),a="".concat("https://maps.googleapis.com/maps/api/geocode/json?address=").concat(o).concat(n);fetch(a).then(function(e){return e.json()}).then(function(e){if("OK"===e.status){var o=e.results[0].geometry.location.lat,n=e.results[0].geometry.location.lng;(0,r.getWeatherData)(o,n)}else t.locationForm.toggleResultsError()})};exports.getCoordinates=a;
},{"./apiKeys.js":"VzXo","./locationForm.js":"kRcM","./weather.js":"FJr7"}],"hX0d":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.audioSettings=void 0;var t={root:null,notes:[],pattern:null,bpm:null,synth:new Tone.PolySynth(4,Tone.Synth,{oscillator:{type:"sine"},envelope:{attack:.001,decay:.1,sustain:.1,release:.9}}).toMaster(),playing:!1,setupAudio:function(){this.setTempo(),this.setNoteArray()},setRootNote:function(){return mapNumberToRange(beatSettings.minTemp,-50,150,0,600)},setNoteArray:function(){var t=this;this.root=this.setRootNote();for(var e=0;e<beatSettings.numBeats;e++){var n=beatSettings.temps[e]/beatSettings.temps[0];this.notes[e]=n*this.root}this.createPattern(),window.setTimeout(function(){t.togglePlaying()},1e3)},setTempo:function(){this.bpm=Math.floor(mapNumberToRange(beatSettings.windSpeed,0,30,100,300)),Tone.Transport.bpm.value=t.bpm},createPattern:function(){this.pattern=new Tone.Pattern(function(e,n){t.synth.triggerAttackRelease(n,.25),beatSettings.beats[this.index].toggleActiveState()},t.notes),this.pattern.start(0)},togglePlaying:function(){Tone.Transport.toggle(),this.playing=!this.playing},updatePlayToggle:function(){var e=document.querySelector(".js-toggle-playing-btn");t.playing?(e.classList.remove("button__mute-btn"),e.classList.add("button__unmute-btn")):(e.classList.add("button__mute-btn"),e.classList.remove("button__unmute-btn"))},clearNotes:function(){this.notes=[],this.pattern.stop()}};exports.audioSettings=t;
},{}],"QvaY":[function(require,module,exports) {
"use strict";require("../styles/index.scss");var e=require("./modules/location"),t=i(require("./modules/audioSettings")),n=i(require("./modules/beatSettings")),r=i(require("./modules/displayState"));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function i(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var u=r?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(n,i,u):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}document.querySelector(".js-location-form").addEventListener("submit",function(t){t.preventDefault();var n=document.querySelector(".js-location-search-field").value;(0,e.getCoordinates)(n)}),document.querySelector(".js-toggle-playing-btn").addEventListener("click",function(){t.updatePlayToggle(),t.togglePlaying()},!1),document.body.onkeyup=function(e){r.active&&32===e.keyCode&&(t.updatePlayToggle(),t.togglePlaying())},document.querySelector(".js-change-location-btn").addEventListener("click",function(){r.toggleState()}),window.onresize=function(){n.setBeatPositions()};
},{"../styles/index.scss":"L4MM","./modules/location":"Pvvy","./modules/audioSettings":"hX0d","./modules/beatSettings":"vNG8","./modules/displayState":"UJ7I"}]},{},["QvaY"], null)
//# sourceMappingURL=/js.df6951c7.js.map